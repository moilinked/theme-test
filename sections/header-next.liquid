{% comment %} *CSS* {% endcomment %}
<link rel="stylesheet" href="{{ 'component-search.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-menu-drawer.css' | asset_url }}" media="print" onload="this.media='all'">

<style>
  /* ===== Header Container ===== */
  .header-wrapper {
    z-index: 10001;
    position: relative;
  }
  .header {
    z-index: 10;
    position: relative;
  }
  .header-content {
    width: 100%;
    height: 72px;
    display: flex;
    align-items: center;
    padding: 0 var(--spacing-margin-desktop);
  }

  /* ===== Header Logo ===== */
  .header-logo {
    order: 1;
    display: flex;
    width: max-content;
    height: max-content;
    align-items: center;
    justify-content: center;
  }

  /* ===== Header Menu Navigation ===== */
  .header-menu-wrapper {
    flex: 1;
    order: 2;
    width: 100%;
    height: 100%;
    display: flex;
  }
  .header-menu-drawer,
  .header-menu-drawer-header {
    display: none;
  }
  .header-menu-nav {
    width: 100%;
    height: 100%;
    transition: none;
  }
  .header-menu-list {
    padding: 0;
    height: 100%;
    display: flex;
    margin: 0 auto;
    list-style: none;
    align-items: center;
    justify-content: center;
  }
  .header-menu-list-item {
    height: 100%;
    display: flex;
    padding: 0 16px;
    align-items: center;
    justify-content: center;
  }
  .header-menu-list-item:hover .header-menu-jump-link {
    color: var(--color-text-highlight);
  }
  .header-menu-item {
    height: 100%;
    display: flex;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    padding: 0 16px;
    position: relative;
    align-items: center;
  }
  .header-menu-item.header-menu-item-full-screen {
    position: static;
  }
  .header-menu-jump-link {
    height: 100%;
    align-content: center;
    text-decoration: none;
    color: var(--color-text-primary);
  }
  .header-menu-item-button {
    gap: 8px;
    display: flex;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    white-space: nowrap;
    align-items: center;
    background: transparent;
    color: var(--color-text-primary);
  }
  .header-menu-item-button .svg-wrapper {
    width: 16px;
    height: 16px;
    transition: rotate 0.4s ease;
  }
  .header-menu-item-button .svg-wrapper-mo {
    display: none;
  }
  .header-menu-item:hover .header-menu-item-button {
    color: var(--color-text-highlight);
  }
  .header-menu-item:hover .header-menu-item-button .svg-wrapper {
    rotate: 180deg;
  }

  /* ===== Header Submenu ===== */
  .header-submenu {
    top: 100%;
    left: 50%;
    opacity: 0;
    translate: -50%;
    position: absolute;
    visibility: hidden;
    transition: 0.2s ease;
    transform: translateY(-10px);
  }
  [data-open='true'] > .header-submenu,
  [data-open='true'] > .mega-menu {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateY(0);
  }
  .header-submenu-list-full-screen,
  .header-submenu-list {
    display: flex;
    background: #fff;
    list-style: none;
    flex-direction: column;
    align-items: self-start;
    border-radius: 0 0 20px 20px;
    border-top: 1px solid #eee;
  }
  .header-submenu-list-full-screen {
    width: 100%;
    height: 720px;
    padding: 32px 48px;
  }
  .header-submenu-list {
    width: 300px;
    min-width: 300px;
    padding: 32px;
  }
  .header-submenu-list-item {
    width: 100%;
    padding: 6px 0;
    font-size: 14px;
    font-weight: 400;
    line-height: 130%;
  }
  .header-submenu-list-item-link {
    width: 100%;
    display: block;
    text-decoration: none;
    text-transform: capitalize;
    color: var(--color-text-primary);
  }
  .header-submenu-list-item-link:hover {
    color: var(--color-text-highlight);
  }

  /* ===== Header Submenu - Image with Text ===== */
  .header-submenu-image-with-text {
    gap: 20px;
    width: 100%;
    display: grid;
    margin: 0 auto;
    list-style: none;
    grid-template-columns: repeat(3, 1fr);
    max-width: var(--spacing-max-content-width-desktop);
  }
  .header-submenu-card-wrapper {
    text-decoration: none;
  }
  .header-submenu-card {
    width: 100%;
    display: flex;
    overflow: hidden;
    border-radius: 10px;
    flex-direction: column;
  }
  .header-submenu-card:hover .header-submenu-card-image {
    transform: scale(1.04);
  }
  .header-submenu-card-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    aspect-ratio: 3/2;
    transition: transform 0.8s ease;
  }
  .header-submenu-card-content {
    padding: 16px;
    background-color: #f8f8f8;
    border-radius: 0 0 10px 10px;
  }
  .header-submenu-card-subtitle {
    font-size: 12px;
    overflow: hidden;
    font-weight: 500;
    line-height: normal;
    padding-bottom: 8px;
    letter-spacing: 1.2px;
    text-decoration: none;
    text-overflow: ellipsis;
    text-transform: uppercase;
    color: var(--color-text-secondary);
  }
  .header-submenu-card-title {
    font-size: 14px;
    overflow: hidden;
    font-weight: 500;
    line-height: normal;
    padding-bottom: 16px;
    text-overflow: ellipsis;
    text-transform: capitalize;
    color: var(--color-text-primary);
  }
  .header-submenu-card-cta {
    gap: 2px;
    display: flex;
    font-size: 12px;
    font-weight: 500;
    align-items: center;
    text-decoration: none;
    text-transform: capitalize;
    color: var(--color-text-highlight);
  }
  .header-submenu-card-cta .svg-wrapper {
    width: 12px;
    height: 12px;
    transition: transform 0.5s ease;
  }
  .header-submenu-card-cta:hover .svg-wrapper {
    transform: translateX(4px);
  }

  /* ===== Header Submenu - Icon List ===== */
  .header-submenu-icon-list-menu {
    width: 100%;
    height: 100%;
    display: grid;
    margin: 0 auto;
    list-style: none;
    padding: 48px 48px 48px 24px;
    grid-template-columns: repeat(3, 1fr);
    max-width: var(--spacing-max-content-width-desktop);
  }
  .header-submenu-icon-item {
    gap: 10px;
    display: flex;
    padding: 0 48px;
    position: relative;
    flex-direction: column;
  }
  .header-submenu-icon-item::after {
    top: 0;
    right: 0;
    width: 1px;
    content: '';
    height: 100%;
    position: absolute;
    background-color: #eee;
  }
  .header-submenu-icon-item-icon,
  .header-submenu-icon-item-image {
    width: 32px;
    height: 32px;
  }
  .header-submenu-icon-item-icon {
    flex-shrink: 0;
  }
  .header-submenu-icon-item-image {
    object-fit: cover;
  }
  .header-submenu-icon-item-title-wrapper {
    color: var(--color-text-primary);
  }
  .header-submenu-icon-item-title {
    font-size: 14px;
    font-weight: 600;
    line-height: normal;
    text-transform: capitalize;
  }
  .header-submenu-icon-item-list {
    gap: 12px;
    display: flex;
    margin-top: 6px;
    list-style: none;
    flex-direction: column;
  }
  .header-submenu-icon-item-list-link {
    width: 100%;
    display: block;
    font-size: 14px;
    font-weight: 400;
    line-height: 130%;
    text-decoration: none;
    text-transform: capitalize;
    color: var(--color-text-primary);
  }
  .header-submenu-icon-item-list-link:hover {
    color: var(--color-text-highlight);
  }

  /* ===== Header Content Right ===== */
  .header-content-right {
    order: 3;
    gap: 12px;
    display: flex;
    position: relative;
    align-items: center;
  }
  .header-content-right-item {
    display: flex;
    cursor: pointer;
    position: relative;
    align-items: center;
    justify-content: center;
  }
  .header-content-right-item .svg-wrapper {
    width: 20px;
    height: 20px;
    color: #111111;
  }
  .cart-count-badge {
    top: 0;
    right: 0;
    width: 22px;
    height: 22px;
    color: #fff;
    display: flex;
    position: absolute;
    translate: 50% -30%;
    border-radius: 22px;
    align-items: center;
    justify-content: center;
    background-color: #00caff;
  }

  /* ===== Mega Menu ===== */
  .mega-menu {
    opacity: 0;
    height: 720px;
    position: absolute;
    visibility: hidden;
    pointer-events: none;
    inset: 100% 0 auto 0;
    transition: 0.25s ease;
    border-top: 1px solid #eee;
    transform: translateY(-10px);
    border-radius: 0 0 20px 20px;
    background: linear-gradient(to right, #f3f8ff 50%, #fff 50%);
  }
  .mega-menu-overlay {
    inset: 0;
    top: 72px;
    z-index: 0;
    display: none;
    position: fixed;
    pointer-events: none;
    background: rgba(0, 0, 0, 0.2);
  }
  .mega-menu-overlay.active {
    display: block;
  }
  .mega-menu-panel {
    height: 100%;
    margin: 0 auto;
    position: relative;
    background-color: #fff;
    max-width: var(--spacing-max-content-width-desktop);
  }
  .mega-menu-l2-back-button,
  .mega-menu-l1-back-button {
    display: none;
  }
  .mega-menu-list {
    margin: 0;
    padding: 32px 0 32px 32px;
    height: 100%;
    list-style: none;
  }
  .mega-menu-l1-list {
    width: 270px;
    display: flex;
    cursor: default;
    flex-direction: column;
    background-color: #f3f8ff;
    border-radius: 0 20px 20px 0;
  }
  .mega-menu-trigger {
    width: 100%;
    height: 50px;
    display: flex;
    font-size: 14px;
    cursor: pointer;
    font-weight: 500;
    position: relative;
    align-items: center;
    text-decoration: none;
    background: transparent;
    padding: 10px 16px 10px 0;
    color: var(--color-text-primary);
  }
  .mega-menu-trigger .svg-wrapper {
    width: 14px;
    height: 14px;
    display: none;
  }
  .mega-menu-trigger[data-active='true'] {
    color: var(--color-text-highlight);
  }
  .mega-menu-trigger[data-active='true']::after {
    top: 0;
    right: 0;
    width: 4px;
    content: '';
    height: 100%;
    position: absolute;
    background-color: var(--primary-color);
  }
  .mega-menu-l2-list {
    top: 0;
    right: 0;
    left: 270px;
    display: none;
    position: absolute;
    flex-direction: column;
    width: calc(100% - 270px);
  }
  .mega-menu-l2-list[data-active='true'] {
    display: flex;
  }
  .mega-menu-l2-list-ul {
    list-style: none;
  }
  .mega-menu-l2-item {
    width: 238px;
  }
  .mega-menu-links-wrapper {
    width: 100%;
    height: 100%;
    display: grid;
    list-style: none;
    grid-template-columns: repeat(3, 1fr);
    max-width: var(--spacing-max-content-width-desktop);
  }
  .mega-menu-l3-list {
    top: 0;
    right: 0;
    left: 270px;
    height: 100%;
    display: none;
    overflow: hidden;
    position: absolute;
    width: calc(100% - 270px);
  }
  .mega-menu-l3-list[data-active='true'] {
    display: flex;
    overflow-y: auto;
    padding: 48px 24px 0px;
    flex-direction: column;
  }
  .mega-menu-l3-products {
    margin-bottom: 48px;
  }
  .mega-menu-l3-products-head {
    display: flex;
    align-items: center;
    margin-bottom: 24px;
    justify-content: space-between;
  }
  .mega-menu-l3-products-head-title {
    font-size: 14px;
    font-weight: 500;
  }
  .mega-menu-l3-products-head-link {
    gap: 4px;
    display: flex;
    font-size: 12px;
    font-weight: 500;
    align-items: center;
    text-decoration: none;
    color: var(--color-text-highlight);
  }
  .mega-menu-l3-products-head-link .svg-wrapper {
    width: 12px;
    height: 12px;
  }
  .splide__track .mega-menu-l3-series-content {
    gap: 10px;
    display: grid;
    list-style: none;
    grid-template-columns: repeat(3, 1fr);
  }
  .mega-menu-l3-series-content-li {
    min-width: 50px;
  }
  .splide__track .mega-menu-l3-products-content {
    gap: 10px;
    display: grid;
    list-style: none;
    grid-template-columns: repeat(2, 1fr);
  }
  .mega-menu-l3-products-content .mega-menu-l4-item-title-text {
    font-size: 14px;
  }
  .mega-menu-l4-item {
    display: flex;
    cursor: pointer;
    min-height: 100px;
    text-decoration: none;
    color: var(--color-text-primary);
  }
  .mega-menu-l4-item:hover {
    color: var(--color-text-highlight);
  }
  .mega-menu-l4-item-image {
    z-index: 1;
  }
  .mega-menu-l4-item-title {
    gap: 16px;
    width: 100%;
    display: flex;
    margin-left: -50px;
    border-radius: 8px;
    background: #f8f8f8;
    flex-direction: column;
    justify-content: center;
    max-width: calc(100% - 50px);
    padding: 20px 20px 20px 60px;
  }
  .mega-menu-l4-item-title-text {
    font-size: 16px;
    min-width: 10px;
    max-width: 100%;
    font-weight: 500;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    text-overflow: ellipsis;
    -webkit-box-orient: vertical;
  }
  .mega-menu-item-tags {
    gap: 6px;
    display: flex;
    flex-wrap: wrap;
  }
  .mega-menu-item-tag {
    display: flex;
    font-size: 10px;
    font-weight: 400;
    padding: 2px 6px;
    line-height: 130%;
    text-align: center;
    align-items: center;
    border-radius: 1000px;
    justify-content: center;
  }
  .mega-menu-item-tag-light {
    background: #eee;
    color: var(--color-text-highlight);
  }
  .mega-menu-item-tag-dark {
    color: #fff;
    background: var(--primary-color);
  }
  .mega-menu-l3-footer {
    padding: 24px;
    display: flex;
    align-items: center;
    border-top: 1px solid #eee;
    justify-content: space-between;
  }
  .mega-menu-l3-placeholder {
    flex: 1;
  }
  .mega-menu-l3-footer-item {
    gap: 2px;
    display: flex;
    font-size: 12px;
    font-weight: 400;
    align-items: center;
    text-decoration: none;
    color: var(--color-text-primary);
  }
  .mega-menu-l3-footer-item .svg-wrapper {
    width: 12px;
    height: 12px;
    transition: transform 0.5s ease;
  }
  .mega-menu-l3-footer-item:hover .svg-wrapper {
    transform: translateX(4px);
  }

  /* ===== Media Queries ===== */
  @media screen and (max-width: 1280px) {
    .header-submenu-list-full-screen {
      padding: 32px 170px;
    }
  }

  .mega-menu-l3-products-progress,
  .mega-menu-l3-footer-mobile {
    display: none;
  }
  .mega-menu-links-wrapper-mobile {
    display: none;
  }

  @media screen and (max-width: 1024px) {
    .header-logo {
      flex: 0 0 auto;
      margin: 0 auto;
    }
    .header-menu-wrapper {
      order: 0;
      align-items: center;
    }
    .header-menu-drawer {
      width: 20px;
      height: 20px;
      display: block;
      cursor: pointer;
      background: transparent;
    }
    .header-menu-nav {
      top: 0;
      left: 0;
      opacity: 0;
      z-index: 10;
      height: 100%;
      position: fixed;
      background: #fff;
      max-width: 500px;
      overflow: hidden;
      visibility: hidden;
      width: calc(100% - 40px);
      transform: translateX(-100%);
      transition: transform 0.3s ease;
    }
    .header-menu-nav.closing {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }
    .header-menu-nav[open] {
      opacity: 1;
      z-index: 10;
      display: block;
      visibility: visible;
      pointer-events: auto;
      transform: translateX(0);
    }
    .header-menu-drawer-header-close {
      cursor: pointer;
      background: transparent;
    }
    .header-menu-drawer-header {
      height: 72px;
      display: flex;
      padding: 8px 24px;
      align-items: center;
      border-bottom: 1px solid #eee;
    }
    .header-menu-list {
      padding-top: 24px;
      flex-direction: column;
      justify-content: start;
    }
    .header-menu-item {
      width: 100%;
      padding: 16px 24px;
      height: min-content;
    }
    .header-menu-item-button,
    .header-menu-jump-link {
      width: 100%;
      font-size: 20px;
      font-weight: 600;
      justify-content: space-between;
    }
    .header-menu-item-button .svg-wrapper {
      display: none;
    }
    .header-menu-item-button .svg-wrapper-mo {
      display: block;
    }
    .header-menu-item:hover .header-menu-item-button {
      color: var(--color-text-primary);
    }
    .header-menu-item:hover .header-menu-item-button .svg-wrapper {
      rotate: 270deg;
    }
    .header-content-right {
      flex: 1;
      justify-content: end;
    }
    .mega-menu {
      top: 72px;
      z-index: 1;
      opacity: 1;
      height: 100%;
      visibility: visible;
      pointer-events: auto;
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }
    .mega-menu[open] {
      transform: translateX(0);
    }
    .mega-menu-panel {
      max-width: 100%;
    }
    .mega-menu-l2-back-button,
    .mega-menu-l1-back-button {
      gap: 4px;
      width: 100%;
      padding: 24px;
      display: flex;
      font-size: 14px;
      cursor: pointer;
      font-weight: 500;
      align-items: center;
      background: transparent;
      color: var(--color-text-secondary);
    }
    .mega-menu-l2-back-button .svg-wrapper,
    .mega-menu-l1-back-button .svg-wrapper {
      width: 14px;
      height: 14px;
    }
    .mega-menu-l1-list {
      width: 100%;
      padding: 0px 24px;
      background-color: #fff;
    }
    .mega-menu-trigger {
      font-size: 20px;
      font-weight: 600;
      padding: 16px 0px;
      text-transform: capitalize;
      justify-content: space-between;
    }
    .mega-menu-trigger .svg-wrapper {
      display: block;
    }
    .mega-menu-trigger[data-active='true'] {
      color: var(--color-text-primary);
    }
    .mega-menu-trigger[data-active='true']::after {
      background-color: transparent;
    }
    .mega-menu-l2-list {
      left: 0;
      z-index: 2;
      width: 100%;
      display: flex;
      background: #fff;
      padding: 0px 0px 78px;
      height: calc(100% - 72px);
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }

    .mega-menu-l2-list[open] {
      transform: translateX(0);
    }
    .mega-menu-l2-item {
      width: 100%;
      display: flex;
      overflow: hidden;
      max-height: 51px;
      background: #fff;
      flex-direction: column;
      transition: max-height 0.3s ease;
    }
    .mega-menu-l2-item[open] {
      max-height: 5000px;
      background: #f8f8f8;
    }
    .mega-menu-l2-item-open {
      max-height: 5000px;
      background: #f8f8f8;
    }
    .mega-menu-l2-list-ul {
      height: 100%;
      overflow-y: auto;
    }
    .mega-menu-l2-item .mega-menu-trigger {
      padding: 0px;
      height: 51px;
      font-size: 16px;
      padding: 16px 24px;
      height: min-content;
    }
    .mega-menu-l2-item .mega-menu-trigger .svg-wrapper {
      rotate: 90deg;
      transition: rotate 0.3s ease;
    }
    .mega-menu-l2-item[open] .mega-menu-trigger {
      color: #006eff;
      border-bottom: 1px solid #ddd;
    }
    .mega-menu-l2-item[open] .mega-menu-trigger .svg-wrapper {
      rotate: 270deg;
    }
    .mega-menu-item .mega-menu-l2-item .mega-menu-l3-list {
      height: 100%;
      display: flex;
      padding: 16px 24px;
      background: #f8f8f8;
      flex-direction: column;
      min-height: max-content;
    }
    .mega-menu-l3-list {
      width: 100%;
      height: 100%;
      position: static;
    }
    .mega-menu-l3-placeholder {
      display: none;
    }
    .mega-menu-l3-footer {
      display: none;
    }
    .mega-menu-l3-products-head-link {
      color: var(--color-text-primary);
    }
    .splide__track .mega-menu-l3-series-content,
    .splide__track .mega-menu-l3-products-content {
      gap: 10px;
      display: flex;
    }
    .mega-menu-l3-series-content-li {
      width: calc(50% - 20px);
    }
    .splide__slide .mega-menu-l4-item {
      align-items: center;
      flex-direction: column;
    }
    .splide__slide .mega-menu-l4-item-title {
      gap: 10px;
      margin: 0;
      width: 100%;
      max-width: 100%;
      background: #fff;
      padding: 20px 16px 16px;
    }
    .mega-menu-l4-item-title-text {
      font-size: 14px;
      font-weight: 400;
    }
    .mega-menu-l3-products-content .mega-menu-l4-item-title-text {
      font-size: 12px;
      font-weight: 400;
      text-align: center;
    }
    .mega-menu-item-tags {
      height: 40px;
      align-items: center;
    }
    .mega-menu-item-tag {
      height: min-content;
    }
    .splide:not(.is-overflow) .mega-menu-l3-products-progress {
      display: none;
    }
    .mega-menu-l3-products-progress {
      height: 4px;
      width: 100px;
      display: flex;
      background: #ddd;
      overflow: hidden;
      border-radius: 4px;
      margin: 16px auto 0;
    }
    .mega-menu-l3-products-progress-bar {
      width: 0;
      height: 4px;
      background: black;
      transition: width 400ms ease;
    }
    .mega-menu-l3-footer-mobile {
      left: 0;
      right: 0;
      bottom: 0;
      gap: 10px;
      z-index: 3;
      width: 100%;
      height: 77px;
      display: flex;
      background: #fff;
      padding: 0px 24px;
      position: absolute;
      align-items: center;
      border-top: 1px solid #eee;
    }
    .mega-menu-l3-footer-mobile > :first-child {
      flex: 1 0 0;
      color: #fff;
      height: 45px;
      display: flex;
      font-size: 14px;
      font-weight: 500;
      min-width: 150px;
      background: #000;
      padding: 10px 16px;
      border-radius: 4px;
      align-items: center;
      justify-content: center;
    }
    .mega-menu-l3-footer-mobile > :not(:first-child) {
      color: #000;
      height: 45px;
      display: flex;
      font-size: 14px;
      font-weight: 500;
      padding: 10px 16px;
      border-radius: 4px;
      align-items: center;
      border: 2px solid #000;
      justify-content: center;
    }
    .mega-menu-links-wrapper {
      display: flex;
      flex-direction: column;
    }
    .mega-menu-links-wrapper .header-submenu-icon-item {
      padding: 0;
    }
    .header-submenu-icon-item .header-submenu-icon-item-icon {
      display: none;
    }
    .header-submenu-icon-item-title-wrapper {
      height: 51px;
      display: flex;
      padding: 16px 24px;
      align-items: center;
      justify-content: space-between;
    }
    .header-submenu-icon-item-title {
      font-size: 16px;
    }
    .mega-menu-l2-item[open] .header-submenu-icon-item-title-wrapper {
      border-bottom: 1px solid #ddd;
      color: var(--color-text-highlight);
    }
    .mega-menu-l2-item[open] .header-submenu-icon-item-title-wrapper .svg-wrapper {
      rotate: 180deg;
    }
    .header-submenu-icon-item-list {
      gap: 0;
      padding-bottom: 16px;
    }
    .mega-menu-links-item-list-item {
      font-size: 14px;
      font-weight: 500;
      padding: 16px 24px;
      line-height: normal;
      color: var(--color-text-primary);
    }
    .header-submenu-list-full-screen {
      top: 72px;
      z-index: 1;
      opacity: 1;
      height: 100%;
      padding: 0px;
      visibility: visible;
      pointer-events: auto;
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }
    .header-submenu-list-full-screen[open] {
      transform: translateX(0);
    }
    .header-submenu-icon-list-menu {
      gap: 0;
      display: flex;
      flex-direction: column;
    }
    .header-submenu-icon-item {
      width: 100%;
      padding: 0px;
    }
    .header-submenu-icon-item-title {
      padding: 16px 24px;
    }
    .mega-menu-overlay {
      top: 0;
      pointer-events: auto;
    }
  }
</style>

{% comment %} *Layout* {% endcomment %}
<shop-header class="header-wrapper">
  <header class="header">
    <div class="header-content">
      {%- if settings.logo != blank -%}
        <a
          class="header-logo"
          href="{{ routes.root_url }}"
          title="{{ shop.name | escape }}"
          aria-label="{{ shop.name | escape }} - Home"
        >
          {% comment %} 
            Logo image rendering should be uncommented and implemented:
            {% render 'component-image', image: settings.logo, width: 140, height: 34, width_plus: 5, alt: shop.name %}
          {% endcomment %}
          <span class="visually-hidden">{{ shop.name | escape }}</span>
        </a>
      {%- endif -%}
      <div class="header-menu-wrapper">
        <button
          type="button"
          class="header-menu-drawer"
          aria-label="Open menu"
          aria-expanded="false"
          aria-controls="header-menu-nav"
        >
          <span aria-hidden="true">
            {{- 'icon-drawer.svg' | inline_asset_content -}}
          </span>
        </button>
        <nav
          id="header-menu-nav"
          class="header-menu-nav"
          aria-label="Main navigation"
          role="navigation"
        >
          <div class="header-menu-drawer-header">
            <button
              type="button"
              class="header-menu-drawer-header-close"
              aria-label="Close menu"
            >
              <span aria-hidden="true">
                {{- 'icon-close.svg' | inline_asset_content -}}
              </span>
            </button>
          </div>
          <ul class="header-menu-list" role="menubar">
            {%- if section.settings.main_menu != blank -%}
              {%- for main_menu in section.settings.main_menu.links -%}
                {%- case main_menu.type -%}
                  {%- when 'http_link', 'page_link' -%}
                    {% comment %} -普通直接跳转导航- {% endcomment %}
                    <li data-menu-item class="header-menu-item" role="none">
                      <a
                        href="{{ main_menu.url }}"
                        class="header-menu-jump-link"
                        role="menuitem"
                        {% if main_menu.current %}
                          aria-current="page"
                        {% endif %}
                      >
                        {{ main_menu.title | escape }}
                      </a>
                    </li>

                  {%- when 'frontpage_link' -%}
                    {%- assign first_link = main_menu.links | first -%}
                    {%- if first_link.links != blank or main_menu.links == blank -%}
                      {%- assign full_screen_menu = true -%}
                    {%- else -%}
                      {%- assign full_screen_menu = false -%}
                    {%- endif -%}
                    {%- if full_screen_menu -%}
                      {% comment %} - 全屏弹出层导航 - {% endcomment %}
                      <li
                        data-menu-item
                        data-type="full-screen-menu"
                        class="header-menu-item header-menu-item-full-screen"
                        aria-controls="submenu-{{ main_menu.handle }}"
                        role="none"
                      >
                        <button
                          type="button"
                          aria-has-popup="true"
                          aria-expanded="false"
                          class="header-menu-item-button"
                          role="menuitem"
                        >
                          <span>{{ main_menu.title | escape }}</span>
                          <span class="svg-wrapper" aria-hidden="true">
                            {{- 'icon-chevron-down.svg' | inline_asset_content -}}
                          </span>
                          <span class="svg-wrapper-mo" aria-hidden="true">
                            {{- 'icon-chevron-right.svg' | inline_asset_content -}}
                          </span>
                        </button>
                        {%- liquid
                          assign link_title_downcase = main_menu.title | strip | downcase
                          for block in section.blocks
                            assign block_title = block.settings.title | downcase
                            if block_title == link_title_downcase
                              assign block_type = block.type
                              break
                            endif
                          endfor
                        -%}
                        <div
                          id="submenu-{{ main_menu.handle }}"
                          class="header-submenu header-submenu-list-full-screen"
                          role="region"
                          aria-labelledby="submenu-{{ main_menu.handle }}-label"
                        >
                          <h2 id="submenu-{{ main_menu.handle }}-label" class="visually-hidden">
                            {{ main_menu.title | escape }} submenu
                          </h2>
                          <ul
                            role="menu"
                            aria-label="{{ main_menu.title | escape }} submenu"
                            class="{%- if block_type == 'image_text_menu' %}header-submenu-image-with-text{% elsif block_type == 'icon_list_menu' %}header-submenu-icon-list-menu{% endif %}"
                          >
                            {%- for block in section.blocks -%}
                              {%- if block.type != block_type -%}
                                {%- continue -%}
                              {%- endif -%}
                              {% comment %} - 图文卡片菜单 - {% endcomment %}
                              {%- if block.type == 'image_text_menu' -%}
                                <li role="none">
                                  <a
                                    class="header-submenu-card-wrapper"
                                    href="{{ block.settings.cta_url }}"
                                    role="menuitem"
                                  >
                                    <div class="header-submenu-card">
                                      {% comment %}
                                        {% render 'component-image',
                                          image: block.settings.image,
                                          width: 300,
                                          thumb: true,
                                          height: 100,
                                          width_plus: 2,
                                          thumb_size: 100,
                                          alt: block.settings.title,
                                          class: 'header-submenu-card-image'
                                        %}
                                      {% endcomment %}
                                      <div class="header-submenu-card-content">
                                        <p class="header-submenu-card-subtitle">{{ block.settings.card_subtitle }}</p>
                                        <p class="header-submenu-card-title">{{ block.settings.card_title }}</p>
                                        <div class="header-submenu-card-cta">
                                          {{ block.settings.cta_text }}
                                          <span class="svg-wrapper">
                                            {{- 'icon-chevron-right.svg' | inline_asset_content -}}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                  </a>
                                </li>
                              {%- endif -%}
                              {% comment %} - 图标 & 列表集合菜单 - {% endcomment %}
                              {%- if block.type == 'icon_list_menu' -%}
                                <li class="header-submenu-icon-item" role="none">
                                  <span class="header-submenu-icon-item-icon" aria-hidden="true">
                                    {%- if block.settings.icon_type == 'icon' -%}
                                      {{-
                                        block.settings.icon
                                        | replace: '_', '-'
                                        | prepend: 'icon-'
                                        | append: '.svg'
                                        | inline_asset_content
                                      -}}
                                    {%- else -%}
                                      {% comment %}
                                        {% render 'component-image',
                                          image: block.settings.image,
                                          width: 32,
                                          height: 32,
                                          width_plus: 2,
                                          alt: block.settings.subtitle,
                                          class: 'header-submenu-icon-item-image'
                                        %}
                                      {% endcomment %}
                                    {%- endif -%}
                                  </span>
                                  {%- for menu_l2 in main_menu.links -%}
                                    {%- if menu_l2.title != block.settings.subtitle -%}
                                      {%- continue -%}
                                    {%- endif -%}
                                    <h3 class="header-submenu-icon-item-title">{{ menu_l2.title | escape }}</h3>
                                    <ul class="header-submenu-icon-item-list" role="group">
                                      {%- for menu_l3 in menu_l2.links -%}
                                        <li role="none">
                                          <a
                                            class="header-submenu-icon-item-list-link"
                                            href="{{ menu_l3.url }}"
                                            role="menuitem"
                                            {% if menu_l3.current %}
                                              aria-current="page"
                                            {% endif %}
                                          >
                                            {{- menu_l3.title | escape -}}
                                          </a>
                                        </li>
                                      {%- endfor -%}
                                    </ul>
                                  {%- endfor -%}
                                </li>
                              {%- endif -%}
                            {%- endfor -%}
                          </ul>
                        </div>
                      </li>
                    {%- else -%}
                      {% comment %} - 普通弹出层导航 - {% endcomment %}
                      {% render 'header-drawer', main_menu: main_menu %}
                    {%- endif -%}
                  {%- when 'product_link', 'catalog_link' -%}
                    {% comment %} - 产品列表导航 - {% endcomment %}
                    {% render 'header-mega-menu', main_menu: main_menu %}
                  {%- else -%}
                    <li data-menu-item class="header-menu-item" role="none">
                      <a
                        href="{{ main_menu.url }}"
                        class="header-menu-jump-link"
                        role="menuitem"
                        {% if main_menu.current %}
                          aria-current="page"
                        {% endif %}
                      >
                        {{ main_menu.title | default: main_menu.type | escape }}
                      </a>
                    </li>
                {%- endcase -%}
              {%- endfor -%}
            {%- endif -%}
          </ul>
        </nav>
      </div>
      <nav class="header-content-right" id="country-selector" aria-label="Header actions">
        {% comment %} - 国家/地区选择器 - {% endcomment %}
        {%- if section.settings.enable_country_selector -%}
          <button
            type="button"
            aria-haspopup="true"
            aria-expanded="false"
            class="header-content-right-item"
            aria-label="Select country or region"
          >
            <span class="visually-hidden">Select country or region</span>
            <span aria-hidden="true" class="svg-wrapper">国家/地区选择器</span>
          </button>
        {%- endif -%}

        {% comment %} - 搜索 - {% endcomment %}
        <button
          type="button"
          aria-expanded="false"
          aria-controls="search-modal"
          aria-label="Open search"
          class="header-content-right-item"
        >
          <span class="visually-hidden">Search</span>
          <span class="svg-wrapper" aria-hidden="true">
            {{- 'icon-search.svg' | inline_asset_content -}}
          </span>
        </button>

        {% comment %} - 用户信息 - {% endcomment %}
        {%- if shop.customer_accounts_enabled -%}
          <account-drawer class="header-content-right-item" rel="nofollow">
            <span class="svg-wrapper" aria-hidden="true">{{ 'icon-account.svg' | inline_asset_content }}</span>
            <span class="visually-hidden">
              {%- if customer -%}
                Account
              {%- else -%}
                Log in
              {%- endif -%}
            </span>
          </account-drawer>
        {%- endif -%}

        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when '@app' -%}
              {% render block %}
          {%- endcase -%}
        {%- endfor -%}

        {% comment %} - 购物车 - {% endcomment %}
        <a
          id="cart-icon-bubble"
          href="{{ routes.cart_url }}"
          class="header-content-right-item"
          aria-label="{% if cart != empty %}Shopping cart with {{ cart.item_count }} {% if cart.item_count == 1 %}item{% else %}items{% endif %}{% else %}Shopping cart (empty){% endif %}"
        >
          <span class="visually-hidden">
            {%- if cart != empty -%}
              Shopping cart with {{ cart.item_count }}
              {% if cart.item_count == 1 %}item{% else %}items{% endif %}
            {%- else -%}
              Shopping cart (empty)
            {%- endif -%}
          </span>
          <span class="svg-wrapper" aria-hidden="true">
            {{- 'icon-cart.svg' | inline_asset_content -}}
          </span>
          {%- if cart != empty -%}
            <div class="cart-count-badge" aria-hidden="true">
              {%- if cart.item_count < 100 -%}
                <span>{{ cart.item_count }}</span>
              {%- else -%}
                <span>99+</span>
              {%- endif -%}
            </div>
          {%- endif -%}
        </a>
      </nav>
    </div>
  </header>
  <div class="mega-menu-overlay"></div>
</shop-header>

<script type="module">
  class ShopHeader extends HTMLElement {
    static MOBILE_BREAKPOINT = 1024
    static DRAWER_CLOSE_DELAY = 300
    megaMenuTimer = null
    megaMenuDelay = 100
    overlay = null
    drawerOpener = null
    drawer = null
    closeTimer = null
    drawerOpen = false
    resizeHandler = null

    get isMobile() {
      return window.innerWidth < ShopHeader.MOBILE_BREAKPOINT
    }

    connectedCallback() {
      this.items = this.querySelectorAll('[data-menu-item]')
      this.menuItems = this.querySelectorAll('.header-menu-item-button')
      this.overlay = this.querySelector('.mega-menu-overlay')
      this.drawerOpener = this.querySelector('.header-menu-drawer')
      this.drawer = this.querySelector('.header-menu-nav')
      this.updateScreenSize()
      this.resizeHandler = debounce(() => this.updateScreenSize(), 250)
      window.addEventListener('resize', this.resizeHandler)
      this.bindEvents()
      this.bindMegaMenuEvents()
    }

    disconnectedCallback() {
      if (this.resizeHandler) {
        window.removeEventListener('resize', this.resizeHandler)
      }
    }

    updateScreenSize() {
      // Close drawer when switching from mobile to desktop view
      if (this.drawerOpen && !this.isMobile) {
        this.hideDrawer()
      }
    }

    bindEvents() {
      this.items.forEach(item => {
        const trigger = item.querySelector('button')
        if (!trigger) return

        item.addEventListener('mouseenter', () => this.open(item))
        item.addEventListener('mouseleave', () => this.close(item))
        trigger.addEventListener('focus', () => this.open(item))
        trigger.addEventListener('keydown', e => {
          if (e.key === 'Escape') {
            this.close(item)
            trigger.focus()
            e.preventDefault()
          } else if (e.key === 'Enter' || e.key === ' ') {
            // Allow button click on Enter/Space
            e.preventDefault()
            trigger.click()
          }
        })
        trigger.addEventListener('click', () => this.openSubDrawer(item))
      })
      this.menuItems.forEach(item => {
        item.addEventListener('click', ev => {
          const menuItem = ev.target.closest('[data-menu-item]')
          if (menuItem) this.openSubDrawer(menuItem)
        })
      })
      this.drawerOpener?.addEventListener('click', () => this.openDrawer())
      this.querySelector('.header-menu-drawer-header-close')?.addEventListener('click', () => this.hideDrawer())
      this.overlay?.addEventListener('click', () => this.hideDrawer())
    }

    bindMegaMenuEvents() {
      const allTriggers = Array.from(this.querySelectorAll('.mega-menu-trigger'))
      const allL2Lists = Array.from(this.querySelectorAll('.mega-menu-l2-list'))
      const allL3Lists = Array.from(this.querySelectorAll('.mega-menu-l3-list'))
      const allMegaMenuL3ProductsSplide = Array.from(this.querySelectorAll('.mega-menu-l3-products-splide'))

      // Build L2 list data map
      const l2ListDataMap = new Map()
      allL2Lists.forEach(l2List => {
        const l2Items = Array.from(l2List.querySelectorAll('.mega-menu-l2-item'))
        const itemsData = l2Items.map(l2Item => ({
          element: l2Item,
          trigger: l2Item.querySelector('.mega-menu-trigger'),
          l3List: l2Item.querySelector('.mega-menu-l3-list')
        }))
        l2ListDataMap.set(l2List, itemsData)
      })

      const l1Items = this.querySelectorAll('.mega-menu-l1-item')

      l1Items.forEach(l1Item => {
        const trigger = l1Item.querySelector('.mega-menu-trigger')
        if (!trigger) return

        const l2List = l1Item.querySelector('.mega-menu-l2-list')
        const l2ListData = l2List ? l2ListDataMap.get(l2List) : null
        const firstL2ItemData = l2ListData && l2ListData[0] ? l2ListData[0] : null

        trigger.addEventListener('click', e => {
          if (this.isMobile) {
            e.preventDefault()
            e.stopPropagation()
            if (!l2List) return
            allL2Lists.forEach(list => list.removeAttribute('open'))
            l2List.setAttribute('open', 'true')
          }
        })

        trigger.addEventListener('mouseenter', () => {
          if (trigger.getAttribute('data-active') === 'true') return
          clearTimeout(this.megaMenuTimer)

          this.megaMenuTimer = setTimeout(() => {
            this.deactivateAllMegaMenuItems(allTriggers, allL2Lists, allL3Lists)
            this.activateMegaMenuTrigger(trigger)

            if (l2List) {
              l2List.setAttribute('data-active', 'true')
              if (firstL2ItemData) {
                this.activateMegaMenuTrigger(firstL2ItemData.trigger)
                if (firstL2ItemData.l3List) {
                  firstL2ItemData.l3List.setAttribute('data-active', 'true')
                }
              }
            }
          }, this.megaMenuDelay)
        })

        trigger.addEventListener('mouseleave', () => {
          clearTimeout(this.megaMenuTimer)
        })
      })

      allL2Lists.forEach(l2List => {
        const l2ListData = l2ListDataMap.get(l2List)
        if (!l2ListData) return

        l2ListData.forEach(itemData => {
          itemData.element.addEventListener('click', e => {
            const isOpen = itemData.element.getAttribute('open') === 'true'
            if (isOpen) {
              itemData.element.classList.remove('mega-menu-l2-item-open')
            } else {
              l2ListData.forEach(otherItemData => {
                if (otherItemData.element !== itemData.element) {
                  otherItemData.element?.classList.remove('mega-menu-l2-item-open')
                }
              })
              itemData.element.classList.add('mega-menu-l2-item-open')
              if (itemData.l3List) {
                const splideSliders = Array.from(itemData.l3List.querySelectorAll('.mega-menu-l3-products-splide'))
                splideSliders.forEach(slider => slider?.slider?.refresh())
              }
            }
          })

          const l2Trigger = itemData.trigger
          if (!l2Trigger) return

          if (this.isMobile) {
            l2Trigger.addEventListener('click', e => {
              e.preventDefault()
            })
            return
          }

          l2Trigger.addEventListener('mouseenter', () => {
            if (l2Trigger.getAttribute('data-active') === 'true') return
            clearTimeout(this.megaMenuTimer)

            this.megaMenuTimer = setTimeout(() => {
              // Deactivate other L2 items
              l2ListData.forEach(otherItemData => {
                if (otherItemData.element !== itemData.element) {
                  this.deactivateMegaMenuTrigger(otherItemData.trigger)
                  if (otherItemData.l3List) {
                    otherItemData.l3List.setAttribute('data-active', 'false')
                  }
                }
              })

              // Activate current L2 item
              this.activateMegaMenuTrigger(l2Trigger)
              if (itemData.l3List) {
                itemData.l3List.setAttribute('data-active', 'true')
              }
            }, this.megaMenuDelay)
          })

          l2Trigger.addEventListener('mouseleave', () => {
            clearTimeout(this.megaMenuTimer)
          })
        })
      })

      const l1BackButton = this.querySelector('.mega-menu-l1-back-button')
      if (l1BackButton) {
        l1BackButton.addEventListener('click', () => {
          this.querySelector('.mega-menu')?.removeAttribute('open')
        })
      }

      allL2Lists.forEach(l2List => {
        const l2BackButton = l2List.querySelector('.mega-menu-l2-back-button')
        if (l2BackButton) {
          l2BackButton.addEventListener('click', () => {
            l2List.removeAttribute('open')
            const l2ListData = l2ListDataMap.get(l2List)
            if (l2ListData) {
              l2ListData.forEach(itemData => {
                if (itemData.trigger) {
                  itemData.trigger.removeAttribute('open')
                  if (itemData.trigger.tagName === 'BUTTON') {
                    itemData.trigger.setAttribute('aria-expanded', 'false')
                  }
                }
                if (itemData.l3List) {
                  itemData.l3List.removeAttribute('open')
                }
              })
            }
          })
        }
      })

      allMegaMenuL3ProductsSplide.forEach(splide => {
        const bar = splide.querySelector('.mega-menu-l3-products-progress-bar')
        if (!bar) return
        splide.addEventListener('splide:loaded', ({ detail: { slider } }) => {
          slider.on('move refresh', () => {
            const end = slider.Components.Controller.getEnd() + 1
            const rate = Math.min((slider.index + 1) / end, 1)
            bar.style.width = `${100 * rate}%`
          })
        })
      })
    }

    // Helper methods for mega menu
    activateMegaMenuTrigger(trigger) {
      if (!trigger) return
      trigger.setAttribute('data-active', 'true')
      if (trigger.tagName === 'BUTTON') {
        trigger.setAttribute('aria-expanded', 'true')
      }
    }

    deactivateMegaMenuTrigger(trigger) {
      if (!trigger) return
      trigger.setAttribute('data-active', 'false')
      if (trigger.tagName === 'BUTTON') {
        trigger.setAttribute('aria-expanded', 'false')
      }
    }

    deactivateAllMegaMenuItems(allTriggers, allL2Lists, allL3Lists) {
      allTriggers.forEach(t => this.deactivateMegaMenuTrigger(t))
      allL2Lists.forEach(list => list.setAttribute('data-active', 'false'))
      allL3Lists.forEach(l3List => l3List.setAttribute('data-active', 'false'))
    }

    open(item) {
      if (this.isMobile) return
      this.closeAll()
      item.dataset.open = 'true'
      const btn = item.querySelector('button')
      if (btn) {
        btn.setAttribute('aria-expanded', 'true')
      }
      item.querySelectorAll('a').forEach(a => (a.tabIndex = 0))

      if (item.dataset.type === 'mega-menu' || item.dataset.type === 'full-screen-menu') {
        this.overlay?.classList.add('active')
      }
    }

    close(item) {
      if (this.isMobile) return
      delete item.dataset.open
      const btn = item.querySelector('button')
      if (btn) {
        btn.setAttribute('aria-expanded', 'false')
      }
      item.querySelectorAll('a').forEach(a => (a.tabIndex = -1))
      this.overlay?.classList.remove('active')
    }

    closeAll() {
      this.items.forEach(item => this.close(item))
    }

    openDrawer() {
      clearTimeout(this.closeTimer)
      this.drawerOpen = true
      this.drawer.classList.remove('closing')
      this.drawer.setAttribute('open', '')
      const drawerOpener = this.drawerOpener
      if (drawerOpener) {
        drawerOpener.setAttribute('aria-expanded', 'true')
      }
      document.body.style.setProperty('overflow-y', 'hidden')
      this.overlay?.classList.add('active')
      // Focus management: trap focus within drawer
      const firstFocusable = this.drawer.querySelector('a, button, [tabindex]:not([tabindex="-1"])')
      firstFocusable?.focus()
    }

    hideDrawer() {
      if (this.drawer.classList.contains('closing')) return
      const drawerOpener = this.drawerOpener
      this.drawerOpen = false
      this.drawer.classList.add('closing')
      this.drawer.removeAttribute('open')
      if (drawerOpener) {
        drawerOpener.setAttribute('aria-expanded', 'false')
      }
      clearTimeout(this.closeTimer)
      this.closeTimer = setTimeout(() => {
        this.drawer.classList.remove('closing')
      }, ShopHeader.DRAWER_CLOSE_DELAY)
      this.overlay?.classList.remove('active')
      document.body.style.removeProperty('overflow-y')
      // Return focus to drawer opener
      drawerOpener?.focus()
    }

    openSubDrawer(item) {
      console.log('openSubDrawer', item)
      if (!item) return
      const id = item.getAttribute('aria-controls')
      if (!id) return
      const subDrawer = document.getElementById(id)
      if (subDrawer) {
        subDrawer.setAttribute('active', '')
        subDrawer.setAttribute('open', '')
      }
    }
  }

  if (!customElements.get('shop-header')) {
    customElements.define('shop-header', ShopHeader)
  }
</script>

{% comment %} *Schema* {% endcomment %}
{% schema %}
{
  "name": "导航栏",
  "class": "section-header",
  "settings": [
    {
      "type": "link_list",
      "id": "main_menu",
      "label": "主菜单"
    },
    {
      "type": "checkbox",
      "id": "enable_country_selector",
      "default": true,

      "label": "展示国家/地区选择器"
    },
    {
      "type": "checkbox",
      "id": "enable_customer_avatar",
      "default": true,
      "label": "展示用户信息"
    }
  ],
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "image_text_menu",
      "name": "图文卡片菜单",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "菜单标题",
          "default": "Featured",
          "info": "需要与菜单中的标题一致才能生效"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "图片",
          "info": "建议图片压缩至 500 KB 以内"
        },
        {
          "type": "text",
          "id": "card_title",
          "label": "卡片标题"
        },
        {
          "type": "text",
          "id": "card_subtitle",
          "label": "卡片副标题"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "CTA 文案",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "cta_url",
          "label": "CTA 链接"
        }
      ]
    },
    {
      "type": "icon_list_menu",
      "name": "图标 & 列表集合菜单",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "菜单标题",
          "default": "Shop By",
          "info": "需要与菜单中的标题一致才能生效"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "二级菜单标题",
          "info": "需要与二级菜单中的标题一致才能生效"
        },
        {
          "type": "select",
          "id": "icon_type",
          "default": "icon",
          "label": "图标类型",
          "info": "建议优先从已有图标中选择",
          "options": [
            {
              "value": "icon",
              "label": "选择已有图标"
            },
            {
              "value": "image",
              "label": "上传新图标"
            }
          ]
        },
        {
          "id": "icon",
          "label": "图标",
          "type": "select",
          "default": "home",
          "visible_if": "{{ block.settings.icon_type == 'icon' }}",
          "options": [
            {
              "value": "home",
              "label": "房子"
            },
            {
              "value": "scenario",
              "label": "场景"
            },
            {
              "value": "water",
              "label": "水滴"
            },
            {
              "value": "snow",
              "label": "雪花"
            }
          ]
        },
        {
          "id": "image",
          "label": "图片",
          "type": "image_picker",
          "info": "建议图片压缩至 500 KB 以内",
          "visible_if": "{{ block.settings.icon_type == 'image' }}"
        }
      ]
    }
  ]
}
{% endschema %}
